(this["webpackJsonpexpense-tracker-react"]=this["webpackJsonpexpense-tracker-react"]||[]).push([[0],{31:function(e,t,a){e.exports=a(61)},55:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),s=function(){return r.a.createElement("h2",null,"Throttler Task Tracker")},u=a(7),o=a.n(u),i=a(12),m=a(15),p=a(8),E=a(11),f=function(e,t){switch(t.type){case"GET_TASKS":return Object(E.a)({},e,{tasks:t.payload});case"GET_TRANSACTIONS":return Object(E.a)({},e,{loading:!1,transactions:t.payload});case"DELETE_TRANSACTION":return Object(E.a)({},e,{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});case"ADD_TRANSACTION":return Object(E.a)({},e,{transactions:[].concat(Object(p.a)(e.transactions),[t.payload])});case"TRANSACTION_ERROR":case"TASK_ERROR":return Object(E.a)({},e,{error:t.payload});default:return e}},d=a(14),k=a.n(d),h={transactions:[],error:null,loading:!0,tasks:[]},b=Object(n.createContext)(h),T=function(e){var t=e.children,a=Object(n.useReducer)(f,h),c=Object(m.a)(a,2),l=c[0],s=c[1];function u(){return(u=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("api/log/taskGroup/".concat(t));case 3:a=e.sent,s({type:"GET_TASKS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"TASK_ERROR",payload:e.t0.response});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return(E=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,k.a.post("api/task",t,a);case 4:n=e.sent,s({type:"ENABLE_TASK",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"ENABLE_TASK_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function d(){return(d=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.delete("/api/v1/transactions/".concat(t));case 3:s({type:"DELETE_TRANSACTION",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"TRANSACTION_ERROR",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function T(){return(T=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,k.a.post("/api/v1/transactions",t,a);case 4:n=e.sent,s({type:"ADD_TRANSACTION",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"TRANSACTION_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return r.a.createElement(b.Provider,{value:{transactions:l.transactions,error:l.error,loading:l.loading,tasks:l.tasks,getTransactions:function(){return u.apply(this,arguments)},deleteTransaction:function(e){return d.apply(this,arguments)},enableTask:function(e){return E.apply(this,arguments)},addTransaction:function(e){return T.apply(this,arguments)},getTasks:function(e){return p.apply(this,arguments)}}},t)};var v=function(e){var t=e.task;return n.createElement("li",{className:t.task.success?"plus":"minus"},n.createElement("ul",null,"- ",n.createElement("b",null,"TaskName")," : ",t.taskName,"- ",n.createElement("b",null,"FireDate"),": ",t.fireDate,"- ",n.createElement("b",null,"Error"),": ",t.error,"- ",n.createElement("b",null,"Tries"),": ",t.task.trai))},y=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(b).getTasks;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Search by"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(a)}},r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"text"},"Task Group"),r.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(e.target.value)},placeholder:"Enter text..."})),r.a.createElement("button",{className:"btn"},"Get History TaskGroup")))},O=function(){var e=Object(n.useContext)(b).tasks,t=e.filter((function(e){return!e.task.success})).map((function(e){return e.taskName}));console.log(t);var a=Object(p.a)(new Set(t));return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Log History"),r.a.createElement("ul",{className:"list"},e.map((function(e){return r.a.createElement(v,{key:e.objectId,task:e})}))))},N=function(){var e=Object(n.useContext)(b).tasks.map((function(e){return e.taskName})),t=Object(p.a)(new Set(e)).length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Task Balance"),r.a.createElement("h1",null,t))},j=function(){var e=Object(n.useContext)(b).tasks,t=e.filter((function(e){return e.task.success})).length,a=e.filter((function(e){return!e.task.success})).length;return r.a.createElement("div",{className:"inc-exp-container"},r.a.createElement("div",null,r.a.createElement("h4",null,"Success"),r.a.createElement("p",{className:"money plus"},t)),r.a.createElement("div",null,r.a.createElement("h4",null,"Fails"),r.a.createElement("p",{className:"money minus"},a)))},R=function(){var e=Object(n.useContext)(b),t=e.tasks,a=e.enableTask,c=t.filter((function(e){return!e.task.success})).map((function(e){return e.taskName})),l=Object(p.a)(new Set(c));return r.a.createElement("div",{className:"container"},r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Failed Tasks"),r.a.createElement("ul",{className:"list"},l.map((function(e){return r.a.createElement("li",{key:e,className:"minus"},"- Name : ",e,r.a.createElement("button",{onClick:function(){return a(t.find((function(t){return t.taskName===e})).task)},className:"delete-btn"},"x"))})))))},x=a(10),A=a(1);a(55);function g(){return r.a.createElement("div",{className:"container"},r.a.createElement(y,null),r.a.createElement(j,null),r.a.createElement(N,null),r.a.createElement(O,null))}function S(){var e=Object(A.g)();return r.a.createElement("div",null,r.a.createElement("h2",null,"Details"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(x.b,{to:"".concat(e.url,"/activetasks")},"Active Tasks")),r.a.createElement("li",null,r.a.createElement(x.b,{to:"".concat(e.url,"/taskgroup")},"Task Groups"))),r.a.createElement(A.c,null,r.a.createElement(A.a,{path:"".concat(e.path,"/:topicId")},r.a.createElement(C,null)),r.a.createElement(A.a,{path:e.path},r.a.createElement("h3",null,"Please select a topic."))))}function C(){var e=Object(A.f)().topicId;return r.a.createElement("h3",null,"Requested topic ID: ",e)}var w=function(){return r.a.createElement(T,null,r.a.createElement(s,null),r.a.createElement("div",{className:"container"},r.a.createElement(x.a,null,r.a.createElement("div",null,r.a.createElement("ul",{id:"nav"},r.a.createElement("li",null,r.a.createElement(x.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/failedTasks"},"Failed Tasks")),r.a.createElement("li",null,r.a.createElement(x.b,{to:"/details"},"Details"))),r.a.createElement(A.c,null,r.a.createElement(A.a,{path:"/failedTasks"},r.a.createElement(R,null)),r.a.createElement(A.a,{path:"/Details"},r.a.createElement(S,null)),r.a.createElement(A.a,{path:"/"},r.a.createElement(g,null)))))))};l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.2d7319a6.chunk.js.map