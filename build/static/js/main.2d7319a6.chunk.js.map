{"version":3,"sources":["components/Header.js","context/AppReducer.js","context/GlobalState.js","components/Balance.js","components/Task.js","components/TaskSearch.js","components/LogHistory.js","components/TaskDtoMonitor.js","components/TasksResults.js","components/FailedTasks.js","App.js","index.js"],"names":["Header","state","action","type","tasks","payload","loading","transactions","filter","transaction","_id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","a","name","axios","get","res","data","response","task","config","headers","post","id","delete","Provider","value","getTransactions","deleteTransaction","enableTask","addTransaction","getTasks","Task","className","success","taskName","fireDate","trai","TaskSearch","useState","text","setText","useContext","onSubmit","e","preventDefault","htmlFor","onChange","target","placeholder","LogHistory","failedTasks","map","console","log","uniqueFailedTasks","Set","key","objectId","TaskDtoMonitor","taskNames","uniqueTaskNames","length","TasksResults","fails","FailedTasks","uniqueFailedTask","onClick","find","Home","Details","match","useRouteMatch","to","url","path","Topic","topicId","useParams","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2d7319a6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Header = () => {\r\n  return (\r\n    <h2>\r\n      Throttler Task Tracker\r\n    </h2>\r\n  )\r\n}\r\n","export default (state, action) => {\r\n  switch(action.type) {\r\n    case 'GET_TASKS':\r\n      return {\r\n        ...state,\r\n        tasks: action.payload\r\n      }\r\n    case 'GET_TRANSACTIONS':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        transactions: action.payload\r\n      }\r\n    case 'DELETE_TRANSACTION':\r\n      return {\r\n        ...state,\r\n        transactions: state.transactions.filter(transaction => transaction._id !== action.payload)\r\n      }\r\n    case 'ADD_TRANSACTION':\r\n      return {\r\n        ...state,\r\n        transactions: [...state.transactions, action.payload]\r\n      }\r\n    case 'TRANSACTION_ERROR':\r\n      return {\r\n        ...state,\r\n        error: action.payload\r\n      }\r\n      case 'TASK_ERROR':\r\n        return {\r\n          ...state,\r\n          error: action.payload\r\n        }\r\n    default:\r\n      return state;\r\n  }\r\n}","import React, { createContext, useReducer } from 'react';\r\nimport AppReducer from './AppReducer';\r\nimport axios from 'axios';\r\n\r\n// Initial state\r\nconst initialState = {\r\n  transactions: [],\r\n  error: null,\r\n  loading: true,\r\n  tasks: [],\r\n}\r\n\r\n// Create context\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n// Provider component\r\nexport const GlobalProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n  // Actions\r\n  async function getTransactions() {\r\n    // try {\r\n    //   const res = await axios.get('/api/v1/transactions');\r\n\r\n    //   dispatch({\r\n    //     type: 'GET_TRANSACTIONS',\r\n    //     payload: res.data.data\r\n    //   });\r\n    // } catch (err) {\r\n    //   dispatch({\r\n    //     type: 'TRANSACTION_ERROR',\r\n    //     payload: err.response.data.error\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  async function getTasks(name) {\r\n    try {\r\n      const res = await axios.get(`api/log/taskGroup/${name}`);\r\n\r\n      dispatch({\r\n        type: 'GET_TASKS',\r\n        payload: res.data\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: 'TASK_ERROR',\r\n        payload: err.response\r\n      });\r\n    }\r\n  }\r\n\r\n  async function enableTask(task) {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(`api/task`, task, config);\r\n\r\n      dispatch({\r\n        type: 'ENABLE_TASK',\r\n        payload: res.data.data\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: 'ENABLE_TASK_ERROR',\r\n        payload: err.response.data.error\r\n      });\r\n    }\r\n  }\r\n\r\n  async function deleteTransaction(id) {\r\n    try {\r\n      await axios.delete(`/api/v1/transactions/${id}`);\r\n\r\n      dispatch({\r\n        type: 'DELETE_TRANSACTION',\r\n        payload: id\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: 'TRANSACTION_ERROR',\r\n        payload: err.response.data.error\r\n      });\r\n    }\r\n  }\r\n\r\n  async function addTransaction(transaction) {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post('/api/v1/transactions', transaction, config);\r\n\r\n      dispatch({\r\n        type: 'ADD_TRANSACTION',\r\n        payload: res.data.data\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: 'TRANSACTION_ERROR',\r\n        payload: err.response.data.error\r\n      });\r\n    }\r\n  }\r\n\r\n  return (<GlobalContext.Provider value={{\r\n    transactions: state.transactions,\r\n    error: state.error,\r\n    loading: state.loading,\r\n    tasks: state.tasks,\r\n    getTransactions,\r\n    deleteTransaction,\r\n    enableTask,\r\n    addTransaction,\r\n    getTasks\r\n  }}>\r\n    {children}\r\n  </GlobalContext.Provider>);\r\n}","import React, { useContext } from 'react';\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport { numberWithCommas } from '../utils/format';\r\n\r\nexport const Balance = () => {\r\n  const { transactions } = useContext(GlobalContext);\r\n\r\n  const amounts = transactions.map(transaction => transaction.amount);\r\n\r\n  const total = amounts.reduce((acc, item) => (acc += item), 0).toFixed(2);\r\n\r\n  return (\r\n    <>\r\n      <h4>Your Balance</h4>\r\n    <h1>${numberWithCommas(total)}</h1>\r\n    </>\r\n  )\r\n}\r\n","import * as React from 'react';\r\n\r\nexport const Task = ({ task }) => {\r\n  return (\r\n    <li className= {!task.task.success? 'minus' : 'plus'}>\r\n      <ul >\r\n    - <b>TaskName</b> : {task.taskName}\r\n\r\n    - <b>FireDate</b>: {task.fireDate}\r\n\r\n    - <b>Error</b>: {task.error}\r\n    - <b>Tries</b>: {task.task.trai}\r\n\r\n    </ul>\r\n    </li>\r\n  )\r\n}\r\n","import React, {useState, useContext, useEffect} from 'react'\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport { Task } from './Task';\r\n\r\n\r\nexport const TaskSearch = () => {\r\n  const [text, setText] = useState('');\r\n\r\n  const { getTasks } = useContext(GlobalContext);\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    getTasks(text);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h3>Search by</h3>\r\n      <form onSubmit={onSubmit}>\r\n        <div className=\"form-control\">\r\n          <label htmlFor=\"text\">Task Group</label>\r\n          <input type=\"text\" value={text} onChange={(e) => setText(e.target.value)} placeholder=\"Enter text...\" />\r\n        </div>\r\n        <button className=\"btn\">Get History TaskGroup</button>\r\n      </form> \r\n    </>\r\n  )\r\n}\r\n","import React, {useContext , useEffect, useState } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport { Task } from './Task';\r\n\r\nexport const LogHistory = () => {\r\n  \r\n  const { tasks } = useContext(GlobalContext);\r\n  const failedTasks = tasks.filter(task => !task.task.success).map(task => task.taskName);\r\n\r\n  console.log(failedTasks);\r\n  const uniqueFailedTasks = [...new Set(failedTasks)];\r\n  console.log(uniqueFailedTasks);\r\n  return (\r\n    <>\r\n      <h3>Log History</h3>\r\n      <ul className=\"list\">\r\n        {tasks.map(task => (<Task key={task.objectId} task={task} />))\r\n       }\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { GlobalContext } from '../context/GlobalState';\r\n\r\nexport const TaskDtoMonitor = () => {\r\n  const { tasks } = useContext(GlobalContext);\r\n\r\n  const taskNames = tasks.map(task => task.taskName);\r\n\r\n  const uniqueTaskNames = [...new Set(taskNames)].length;\r\n\r\n  return (\r\n    <>\r\n      <h3>Task Balance</h3>\r\n    <h1>{uniqueTaskNames}</h1>\r\n    </>\r\n  )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { GlobalContext } from '../context/GlobalState';\r\n\r\nexport const TasksResults = () => {\r\n  const { tasks } = useContext(GlobalContext);\r\n\r\n  const success = tasks.filter(task => task.task.success).length;\r\n  const fails = tasks.filter(task => !task.task.success).length;\r\n\r\n  return (\r\n    <div className=\"inc-exp-container\">\r\n        <div>\r\n          <h4>Success</h4>\r\n  <p className=\"money plus\">{success}</p>\r\n        </div>\r\n        <div>\r\n          <h4>Fails</h4>\r\n  <p className=\"money minus\">{fails}</p>\r\n        </div>\r\n      </div>    \r\n  )\r\n}\r\n","import React, {useContext } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState';\r\n\r\nexport const FailedTasks = () => {\r\n  \r\n  const { tasks, enableTask } = useContext(GlobalContext);\r\n  const failedTasks = tasks.filter(task => !task.task.success).map(task => task.taskName);\r\n  const uniqueFailedTasks = [...new Set(failedTasks)];\r\n  return (\r\n    <div className=\"container\">\r\n    <>  \r\n      <h3>Failed Tasks</h3>\r\n      <ul className=\"list\">\r\n      {uniqueFailedTasks.map(function(uniqueFailedTask){\r\n       return  <li  key={uniqueFailedTask} className= {'minus'}>\r\n          - Name : {uniqueFailedTask}\r\n          <button onClick={() =>\r\n            enableTask(tasks.find(task => task.taskName===uniqueFailedTask).task)}\r\n             className=\"delete-btn\">x</button>\r\n          </li>\r\n      })}\r\n      </ul>\r\n    </>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Header } from './components/Header';\r\nimport { Balance } from './components/Balance';\r\nimport { IncomeExpenses } from './components/IncomeExpenses';\r\nimport { TransactionList } from './components/TransactionList';\r\nimport { TaskSearch } from './components/TaskSearch';\r\nimport { LogHistory } from './components/LogHistory';\r\nimport { TaskDtoMonitor } from './components/TaskDtoMonitor';\r\nimport { TasksResults } from './components/TasksResults';\r\nimport { DetailsPage } from './components/DetailsPage';\r\nimport { FailedTasks } from './components/FailedTasks';\r\nimport { GlobalProvider } from './context/GlobalState';\r\nimport {   BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams } from \"react-router-dom\";\r\n\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <GlobalProvider>\r\n      <Header />\r\n      <div className=\"container\">\r\n      <Router>\r\n      <div>\r\n      <ul id=\"nav\">\r\n          <li>\r\n            <Link to=\"/\">Home</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/failedTasks\">Failed Tasks</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/details\">Details</Link>\r\n          </li>\r\n      </ul>\r\n        <Switch>\r\n          <Route path=\"/failedTasks\">\r\n            <FailedTasks />\r\n          </Route>\r\n          <Route path=\"/Details\">\r\n            <Details />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  \r\n      </div>\r\n    </GlobalProvider>\r\n  );\r\n}\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"container\">\r\n      <TaskSearch />\r\n        <TasksResults/>\r\n       <TaskDtoMonitor/>\r\n      <LogHistory/>\r\n     </div>);\r\n}\r\n\r\n\r\nfunction Details() {\r\n  let match = useRouteMatch();\r\n\r\n  return (\r\n    <div>\r\n      <h2>Details</h2>\r\n\r\n      <ul>\r\n        <li>\r\n          <Link to={`${match.url}/activetasks`}>Active Tasks</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={`${match.url}/taskgroup`}>\r\n           Task Groups\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n\r\n      {/* The Topics page has its own <Switch> with more routes\r\n          that build on the /topics URL path. You can think of the\r\n          2nd <Route> here as an \"index\" page for all topics, or\r\n          the page that is shown when no topic is selected */}\r\n      <Switch>\r\n        <Route path={`${match.path}/:topicId`}>\r\n          <Topic />\r\n        </Route>\r\n        <Route path={match.path}>\r\n          <h3>Please select a topic.</h3>\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Topic() {\r\n  let { topicId } = useParams();\r\n  return <h3>Requested topic ID: {topicId}</h3>;\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}